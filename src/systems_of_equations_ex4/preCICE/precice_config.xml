<precice-configuration>
 <log-filter target="debug" component="precice" switch="on" />
 <log-filter target="info" component="" switch="on" />
 <log-filter target="debug" component="precice::cplscheme::impl::IQN" switch="off" /> 
 <log-filter target="debug" component="precice::cplscheme::ImplicitCouplingScheme" switch="off" />

 <solver-interface dimensions="3">
  <data:vector name="Forces" />
  <data:vector name="Displacements" />

  <mesh name="Fluid_Nodes">
   <use-data name="Displacements"/>
   <use-data name="Forces"/>
  </mesh>
  <mesh name="Structure_Nodes">
   <use-data name="Displacements"/>
   <use-data name="Forces"/>
  </mesh>

  <participant name="FLUID"> 
   <use-mesh name="Fluid_Nodes" provide="yes"/> 
   <use-mesh name="Structure_Nodes" provide="STRUCTURE"/> 

   <write-data name="Forces" mesh="Fluid_Nodes"/> 
   <read-data name="Displacements" mesh="Fluid_Nodes"/> 

   <mapping:nearest-projection direction="write" from="Fluid_Nodes" to="Structure_Nodes" constraint="consistent" timing="initial"/> 
   <mapping:nearest-projection direction="read"  from="Structure_Nodes" to="Fluid_Nodes" constraint="consistent" timing="initial"/> 

   <export:vtk timestep-interval="10" directory="output/"/> 
  </participant>

  <participant name="STRUCTURE"> 
   <use-mesh name="Structure_Nodes" provide="yes"/>

   <write-data name="Displacements" mesh="Structure_Nodes"/>
   <read-data name="Forces" mesh="Structure_Nodes"/>

   <export:vtk timestep-interval="10" directory="output/"/>
  </participant>

  <m2n:sockets from="FLUID" to="STRUCTURE" />

  <coupling-scheme:serial-implicit> 
   <participants first="FLUID" second="STRUCTURE"/>

   <max-time value="40.0"/> 
   <timestep-length value="1" valid-digits="8"/> 
   <max-iterations value="40"/> 

   <exchange data="Forces" mesh="Structure_Nodes" from="FLUID" to="STRUCTURE"/> 
   <exchange data="Displacements" mesh="Structure_Nodes" from="STRUCTURE" to="FLUID"/> 

   <relative-convergence-measure data="Forces" mesh="Structure_Nodes" limit="1e-5"/> 
   <relative-convergence-measure data="Displacements" mesh="Structure_Nodes" limit="1e-5"/> 

   <post-processing:aitken> 
    <data name="Displacements" mesh="Structure_Nodes"> 
    <initial-relaxation value="0.001"/> 
   </post-processing:aitken> 

   <extrapolation-order value="2"/> 
  </coupling-scheme:serial-implicit>
 </solver-interface>
</precice-configuration>
